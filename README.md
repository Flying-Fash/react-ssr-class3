##### （备注： 笔记只整理了一部分，按照自己的认知列了个大纲，后期会按照大纲继续补充，有些图片及格式不正确，后续会转为pdf格式）
### 1.基于React的SSR

> #### 什么是服务端渲染?
>
> 简单理解为就是页面上的内容在服务器上已经生成好了,再由服务器直接返回浏览器,由服务器直接决定显示什么,这种渲染方式叫做服务端渲染.可以通过查看页面源代码来判定一个页面是服务端渲染还是客户端渲染.
>
> #### 什么是客户端渲染?
>
> 页面内容由js文件渲染出来,而js运行在浏览器,因此称作客户端渲染. 像react项目,服务端只返回一个html框架,而具体的页面内容是由打包后的bundle.js文件生成.

[toc]

### 2.CSR的优缺点

##### 1. 优点

- 前后端分离

  > ![1575990851317](G:\Typora\typora-user-images\1575990851317.png)
  >
  > 对于客户端渲染,像React项目,页面渲染部分由react编写,也就是我们前端负责页面的渲染,通过发送ajax请求,后台把数据通过JSON的形式返回给前端,前端再继续渲染页面.这样使得前端只负责页面的的渲染,而后端只负责向前端提供JSON接口,这样就实现了前后端分离的架构.有助于效率的提升.

##### 2. 劣势

- TTFP:首屏加载时间长；

  > ![1575991380019](G:\Typora\typora-user-images\1575991380019.png)
  >
  > 从这张图可以看出,在SSR体系下去访问一个网址,页面由服务端直接返回,而在CSR体系下去访问一个网址,服务端首先会返回一个html给浏览器,接着浏览器会去加载一个js文件,js文件下载好之后会去运行这个文件,也就是React代码,当React代码运行完毕之后回向页面渲染元素并添加一些事件绑定,这时候页面才算准备就绪,用户才能完整的看到页面和效果.从两个过程可以看出,用户去访问一个网址,SSR相对于CSR页面首屏加载加载速度要快的多,用户体验好.所谓首屏加载速度,就是用户打开一个页面,第一看到页面内容的这个时间.

- SEO: 搜索引擎优化

  > 所谓的搜索引擎优化简单可以理解为可以提高网站的搜索排名.SSR相比CSR更有利于SEO,是因为像百度这些爬虫只识别html的内容,而不容易识别js的内容.

### 3.React中使用服务端渲染

##### 1. webpack搭建一个React-SSR项目

- webpack配置
- 自动打包与服务端重启
- npm-run-all,concurrently

##### 2. 同构

- 什么是同构
- 脱水与注水

##### 3. 整合redux

- 中间层概念
- 引入redux，redux-thunk.react-redux
- 创建store
- 构建redux结构
- axios配置(instance)
- 异步数据服务器渲染（loadData)
- 服务端渲染获取数据

##### 4. 引入路由机制

- 服务端渲染中的路由
- 多页面路由跳转
- renderRouters实现多级路由的支持

### 4.中间层















